---
title: "LinearModelGenerator"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{LinearModelGenerator}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

First of all, you can using this download command to download this packages and vignettes,
```{r,eval=FALSE}
devtools::install_github('ZihaoHanGitHub/Biostat625_Generate_Linear_Model',build_vignettes =T)
```
Secondly, you can using library to call out this package.
```{r setup}
library(LinearModelGenerator)
library(rbenchmark)
```
\section{Dataset Setup}
In this packages, it contain a dataset about depression, with four variables, Depression, Age, Sex, and Fatalism, it is common to use for a linear regression model calculating, thus, feel good to practice this packages via this dataset.
```{r}
data = LinearModelGenerator::data
head(data)
```
We could see, this data frame contain 612 rows and 4 columns, with four vairables called Depression, Age, Sex and Fatalism, in this tutorial, this dataset is applied for all the example of function using.
\section{Generate Linear Model}
\subsection{How to use this function?}
After we set up the data, we can using the generate linear model with a string (the formula of the model you want to fit), and the dataset, here is the example,
```{r}
# suppose you want to fit the linear model, explore the relationship between Depression with Age, Sex, and Fatalism.
model = generate_linear_model(Depression ~ Age + Sex + Fatalism, data)
```
Thus, you would fit a multiple linear model by Least Squared Estimate, and all the information would save in the variable $model$, in the section of output, it would be introduce how to use this $model$.
\subsection{What is this function output?}
This function would return a list with five things, a mathematics express of this model, a coefficient table, a R squared table, a F-test table, a 95% confident interval of this table, and also a Sum of Sq table.
\subsubsection{The Mathematics Formula & Coefficient Table}
First of all, let's have a overview of this $model$.
```{r}
model
```
Then let's see how to call out each attribute.
```{r}
#Call out the mathematics formula
#it would return a formula type data
math_express = model$Mathematics_formula
math_express
```
Then, let's check the coefficient table
```{r}
# the coefficient table is a dataframe class
# contain these five columns name,
# Estimate: the value of parameter
# Std. Error: the standard error of parameter
# t-value: the t-test value of this parameter
# p-value: the p_value of the t test corresponding.
coefficient_table = model$coefficients_table
coefficient_table
```
And it is easily to call each colunms of coefficient table,
```{r}
# Example:
# using the estimate value
# for other attributes of coefficient table would be similar to call out.
Estimate = coefficient_table[,"Estimate"]
Estimate
```
\subsubsection{SS table, $R^2$table,& F-test table}
This part is introduce how to call the SS table, $R^2$ table and F-test table of the model, first, it is going to introduce the Sum Sq table, For Sum Sq table, you can applied this command
```{r}
# call out SS_table
SS_table = model$SS_table
SS_table
```
We could see it is a dataframe containing the SSE,dfE,MSE, and other two rows for Regression term and Y term. Next, it introduce how to call the R squared table, which is a dataframe contains the $R^2$ and $adj R^2$, for the $R^2$ table, you can run this code.
```{r}
R_table = model$Rsquared_table
R_table
```
In the end of this section, it introduce how to call the F-test table, which is a dataframe contains the F-statistics, Degree of Freedom1, Degree of Freedom2, and also the p-value.
```{r}
F_table = model$F_table
F_table
```
\subsubsection{Confidence Interval}
This section is going to introduce about the 95%CI of each parameter, you can call out this dataframe by the code following:
```{r}
# CI is the dataframe type
CI = model$confident_interval
CI
```
You could see the upper bound and lower bound as teh columns name, and intercept and your dependent variables are the row names, therefore, as the dataframe type, you can save the upper bound or the confidence interval for the specific variable by following code:
```{r}
#Call the upper bound of 95% confidence interval
CI[,"confident_interval_upper"]
#Call the 95% confidence interval for intercept
CI["(Intercept)",]
```






